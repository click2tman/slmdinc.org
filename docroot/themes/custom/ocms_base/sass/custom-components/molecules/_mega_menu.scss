/**
 * Mega MenuList Stylesheet
 * @description Define styles for Mega Menu
 */

// @description Style for Mega Menu for the IRS Website

// body fixes
body {
    overflow-x: hidden;
}
// resets
.megamenu {
    h1, h2, h3, h4, h5, h6, span, a {
        margin: 0;
    }
}

.filing,
.payments,
.refunds,
.cnd,
.fni {
    background-color: $white;
    border-bottom: 1px solid #234E76;
    box-shadow: 1px 3px 3px $light-gray;
    display: none;
    padding: 0 2000px 30px 2000px;
    margin: 0 -2000px;
    position: absolute;
    z-index: 99;
    a {
        font-weight: 700;
        padding-bottom: 15px;
        text-decoration: none;
        padding: 15px 0 0;
        display: block;
        &:hover, &:focus, &:active {
            text-decoration: underline;
        }
    }
    h2 {
        @extend h3;
        padding-top: 50px;
        border-bottom: 1px solid $light-gray;
        padding-bottom: 15px;
        max-width: 300px;
        text-transform: uppercase;
    }
    .field--name-field-ocms-text-plain-long {
        border-bottom: 1px solid $light-gray;
        padding-bottom: 15px;
        max-width: 300px;
    }
    .field--name-field-ocms-popular {
        display: none;
    }
}

.filing {
    .container {
        position: relative;
        left: 0px;
        max-width: 1128px;
    }
    a {
        // border-top: 1px solid $light-gray;
        border-bottom: 1px solid $light-gray;
        padding-bottom: 15px;
        max-width: 300px;
    }
}

.payments {
    .container {
        position: relative;
        left: -9.5%;
        max-width: 1128px;
    }
    a {
        // border-top: 1px solid $light-gray;
        border-bottom: 1px solid $light-gray;
        padding-bottom: 15px;
        max-width: 300px;
    }
}

.refunds {
    .container {
        position: relative;
        left: -19%;
        max-width: 1128px;
        padding-top: 50px;
    }
    a {
        border-top: 1px solid $light-gray;
        // border-bottom: 1px solid $light-gray;
        padding-bottom: 15px;
        max-width: 300px;
        &:last-child {
            // border-top: none;            
            border-bottom: 1px solid $light-gray;
        }
    }
    img {
        max-width: 500px !important;
        width: 100%;
        max-height: 270px;
    }
    &-image__link {
        position: absolute;
        margin: 0 auto;
        text-align: center;
        align-self: center;
        top: 39.75%;
        left: 32.5%;
        right: 29%;
        max-width: 200px;
        a {
            @extend .btn;
            color: $white !important;
            text-decoration: none;
            padding: 0;
            border-top: none !important;
            border-bottom: none !important;
            &:hover {
                text-decoration: underline;
            }
        }
    }
}

.cnd {
    .container {
        position: relative;
        left: -31.5%;
        max-width: 1128px;
    }
    a {
        // border-top: 1px solid $light-gray;
        // border-bottom: 1px solid $light-gray;
        padding-bottom: 15px;
        max-width: 300px;
    }
}

.fni {
    .container {
        position: relative;
        left: -52%;
        max-width: 1128px;
    }
    a {
        // border-top: 1px solid $light-gray;
        // border-bottom: 1px solid $light-gray;
        padding-bottom: 15px;
        max-width: 300px;
    }
}

.header-nav {
    position: relative;
    box-shadow: none;
    border-bottom: none;
}

.header-nav .navbar-nav>li>a {
    &:focus,
    &:active {
        background-color: $white;
        text-decoration: underline;
        color: #227DAE;
    }
    // &:hover {
    //     &+.filing,.filing:hover, &+.payments,.payments:hover, &+.refunds, .refunds:hover, &+.cnd, .cnd:hover, & +.fni,.fnp:hover {
    //         display: block;
    //     }
    // }
    @media only screen and (max-width: $screen-lg-min) {
        &:hover {
            &+.filing,
            .filing:hover,
            &+.payments,
            .payments:hover,
            &+.refunds,
            .refunds:hover,
            &+.cnd,
            .cnd:hover,
            &+.fni,
            .fni:hover {
                display: none;
            }
        }
    }
}
.popular-box {
    border: 1px solid $popular-box-border;
    background-color: $popular-box-background;
    padding: 0 50px 30px;
    margin: 20px 0 0px;
    max-width: 310px;
    a {
        border-bottom: none;
        padding-bottom: 10px;
        &:hover, &:focus, &:active {
            text-decoration: underline;
        }
    }
    h2 {
        @extend h3;
        padding-top: 30px;
        border-bottom: none;
        padding-bottom: 0;                     
    }
}
.mm-is-active {
    background-color: $white !important;
    text-decoration: underline !important;
    color: #227DAE !important;
}
// Ported Adobe Mega menu css
.accessible-megamenu {
    .accessible-megamenu-panel {
        position: absolute;
        display: block;
        left: -1px;
        visibility: hidden;
        top: -9999em;
        max-height: 0px;
        overflow: hidden;
        opacity: 0;
        -webkit-transition: opacity 250ms ease 500ms, max-height 0ms ease, visibility 0s linear 500ms;
        -moz-transition: opacity 250ms ease 500ms, max-height 0ms ease, visibility 0s linear 500ms;
        -ms-transition: opacity 250ms ease 500ms, max-height 0ms ease, visibility 0s linear 500ms;
        -o-transition: opacity 250ms ease 500ms, max-height 0ms ease, visibility 0s linear 500ms;
        transition: opacity 250ms ease 500ms, max-height 0ms ease, visibility 0s linear 500ms;
    }
    .accessible-megamenu-panel.open {
        visibility: visible;
        top: 60px;
        max-height: 600px;
        opacity: 1;
        z-index: 1001;
        -webkit-transition: opacity 500ms ease 500ms, max-height 500ms ease, visibility 0s linear 0s;
        -moz-transition: opacity 500ms ease 500ms, max-height 500ms ease, visibility 0s linear 0s;
        -ms-transition: opacity 500ms ease 500ms, max-height 500ms ease, visibility 0s linear 0s;
        -o-transition: opacity 500ms ease 500ms, max-height 500ms ease, visibility 0s linear 0s;
        transition: opacity 500ms ease 500ms, max-height 500ms ease, visibility 0s linear 0s;
    }
    @media only screen and (max-width: $screen-lg-min) {
        .accessible-megamenu-panel {
            display: none;
        }
        .accessible-megamenu-panel.open {
            visibility: hidden;
        }
    }
}